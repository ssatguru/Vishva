let fs=require("fs"),varName=process.argv[2],path=process.argv[3],fn=process.argv[4],_tab="  ";function printDir(r,e){let t=fs.readdirSync(r),a=t.length-1,s="";for(let i=0;i<t.length;i++){let n=r+"/"+t[i],f=fs.statSync(n);f.isFile()?(s=i<a?e+'"'+t[i]+'",':e+'"'+t[i]+'"',stream.write(s+"\n")):f.isDirectory()&&(s=e+'{"d":"'+t[i]+'",',stream.write(s+"\n"),s=e+' "f":[',stream.write(s+"\n"),printDir(n,e+_tab),s=i<a?e+"]},":e+"]}",stream.write(s+"\n"))}}fs.writeFileSync(fn,varName+"=[\n");let stream=fs.createWriteStream(fn,{flags:"a"});printDir(path,_tab),stream.write("]"),stream.end();